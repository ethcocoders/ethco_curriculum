{% extends "base.html" %}

{% block head %}
    {{ super() }}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/admin_dashboard.css') }}">
    <title>Admin Dashboard</title>
{% endblock %}

{% block content %}
<div class="admin-dashboard-wrapper">
    <!-- Sidebar -->
    <aside class="admin-sidebar">
        <div class="sidebar-header">Curriculum Admin</div>
        <nav class="sidebar-nav">
            <ul>
                <li><a href="{{ url_for('admin_dashboard') }}">Dashboard</a></li>
                <li><a href="{{ url_for('admin_browse') }}">Browse Course</a></li>
                <li><a href="{{ url_for('admin_course_builder') }}">Course Management</a></li>
                <li><a href="{{ url_for('admin_quizzes') }}">Quiz Management</a></li>
                <li><a href="{{ url_for('admin_labs') }}">Lab Management</a></li>
                <li><a href="{{ url_for('admin_sessions') }}">Session Management</a></li>
                <!-- Add more admin links here -->
            </ul>
        </nav>
    </aside>
    <!-- /Sidebar -->

    <!-- Main Content Area -->
    <main class="admin-main-content">
        <header class="admin-header">
            <button class="menu-toggle" id="menu-toggle">â˜°</button>
            <div class="header-title">Admin Dashboard</div>
            <nav class="header-nav">
                <ul>
                    <li><a href="{{ url_for('index') }}">Home</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle">{{ current_user.username }}</a>
                        <ul class="dropdown-menu">
                            <li><a href="{{ url_for('profile_settings') }}">Profile</a></li>
                            <li><a href="{{ url_for('logout') }}">Logout</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
        </header>

        <div class="admin-content-body">
            <h1>Admin Dashboard</h1>
            <p>Welcome to the administration panel. Use the sidebar to navigate through different management sections.</p>

            <div class="dashboard-cards">
                <a href="{{ url_for('admin_browse') }}" class="card-link">
                    <div class="card">
                        <div class="card-icon"><i class="fas fa-folder-open"></i></div>
                        <div class="card-info">
                            <div class="card-label">Browse Course</div>
                        </div>
                    </div>
                </a>

                <div class="card">
                    <div class="card-icon"><i class="fas fa-book"></i></div>
                    <div class="card-info">
                        <div class="card-label">Courses</div>
                        <div class="card-value">5</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-icon"><i class="fas fa-users"></i></div>
                    <div class="card-info">
                        <div class="card-label">Users</div>
                        <div class="card-value">120</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-icon"><i class="fas fa-clipboard-list"></i></div>
                    <div class="card-info">
                        <div class="card-label">Quizzes</div>
                        <div class="card-value">30</div>
                    </div>
                </div>

                <div class="card">
                    <div class="card-icon"><i class="fas fa-flask"></i></div>
                    <div class="card-info">
                        <div class="card-label">Labs</div>
                        <div class="card-value">15</div>
                    </div>
                </div>
            </div>

            <div class="overview-section">
                <h2>Overview</h2>
                <p>This section will display key metrics and quick links for administrative tasks.
                    The specific content here can be customized based on the most frequent needs of an administrator.
                    For example, recent user registrations, pending content approvals, or system health status.</p>
                <p>Use the navigation on the left to manage courses, quizzes, labs, and sessions.</p>
            </div>
        </div>
    </main>
    <!-- /Main Content Area -->

</div>

<script>
    document.getElementById('menu-toggle').addEventListener('click', function() {
        document.querySelector('.admin-dashboard-wrapper').classList.toggle('toggled');
    });

    // Dropdown functionality for the header nav
    document.querySelectorAll('.admin-header .dropdown-toggle').forEach(item => {
        item.addEventListener('click', function(event) {
            event.preventDefault();
            this.nextElementSibling.classList.toggle('show');
        });
    });

    // Close the dropdown if the user clicks outside of it
    window.addEventListener('click', function(event) {
        if (!event.target.matches('.admin-header .dropdown-toggle')) {
            document.querySelectorAll('.admin-header .dropdown-menu').forEach(dropdown => {
                if (dropdown.classList.contains('show')) {
                    dropdown.classList.remove('show');
                }
            });
        }
    });
</script>
{% endblock %}